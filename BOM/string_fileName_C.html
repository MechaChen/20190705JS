<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Examples</title>
</head>
<body>
<form>
	帳號<input type="text" name="memId"><br>
	密碼<input type="password" name="memPsw"><br>
	大頭貼<input type="file" name="header" id="header"><br>
	<input type="button" value="確定加入">
</form>


<script type="text/javascript">

window.addEventListener("load", function(){
	//.......header.onchange
	document.getElementById("header").onchange = function(e){
		var allowedExt = [ "png", "gif", "jpg" ];
		var fileStr = e.target.value;   //DD101.vs.bak
		var dot = fileStr.lastIndexOf(".");
		//取得主檔名
		var fileName = fileStr.substring(0, dot);

		//取得副檔名
		var fileExt = fileStr.substr( dot+1).toLowerCase();

		//檢查是否為被允許的檔案類型
		if( allowedExt.indexOf(fileExt) == -1 ){
			alert("檔案類型不符，必須是圖檔");
			e.target.value="";
		}

	};

}, false);	
</script>    
</body>
</html>